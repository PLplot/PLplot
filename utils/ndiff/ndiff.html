<!-- Warning: Do NOT edit this file. -->
<!-- It was created automatically by man2html.awk Version 2.02 [23-Jun-1998] on Sun Dec 10 10:12:54 MST 2000 -->
<!-- from the file  at suncore.math.utah.edu -->

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">

<!--  _*_nroff_*_ -->
<!--  ==================================================================== -->
<!--   @Troff_man_file{ -->
<!--      author          = "Nelson H. F. Beebe", -->
<!--      version         = "2.00", -->
<!--      date            = "10 December 2000", -->
<!--      time            = "07:52:03 MST", -->
<!--      filename        = "ndiff.man", -->
<!--      copyright       = "Copyright (c) 2000 Nelson H. F. Beebe. This -->
<!--                         code is licensed under the GNU General Public -->
<!--                         License, version 2 or later.", -->
<!--      address         = "Center for Scientific Computing -->
<!--                         University of Utah -->
<!--                         Department of Mathematics, 322 INSCC -->
<!--                         155 S 1400 E RM 233 -->
<!--                         Salt Lake City, UT 84112_0090 -->
<!--                         USA", -->
<!--      telephone       = "+1 801 581 5254", -->
<!--      FAX             = "+1 801 585 1640, +1 801 581 4148", -->
<!--      URL             = "http://www.math.utah.edu/~beebe", -->
<!--      checksum        = "38346 930 3480 25807", -->
<!--      email           = "beebe@math.utah.edu, beebe@acm.org, -->
<!--                         beebe@ieee.org (Internet)", -->
<!--      codetable       = "ISO/ASCII", -->
<!--      keywords        = "numerical file differencing", -->
<!--      supported       = "yes", -->
<!--      docstring       = "This file contains the UNIX manual pages -->
<!--                         for ndiff. -->
<!--  -->
<!--                         The checksum field above contains a CRC_16 -->
<!--                         checksum as the first value, followed by the -->
<!--                         equivalent of the standard UNIX wc (word -->
<!--                         count) utility output of lines, words, and -->
<!--                         characters.  This is produced by Robert -->
<!--                         Solovay's checksum utility.", -->
<!--   } -->
<!--  ==================================================================== -->
<!--  ==================================================================== -->
<HTML>
<HEAD>
<TITLE>
 NDIFF 1 &#34;09 December 2000&#34; &#34;Version 2.00&#34;
</TITLE>
<LINK REV="made" HREF="mailto:beebe@suncore.math.utah.edu">
</HEAD>

<BODY>

<!-- .hw white_space -->
<!-- ===================================================================== -->
<H1>
 NDIFF 1 &#34;09 December 2000&#34; &#34;Version 2.00&#34;
</H1>
<H2>
Table of contents
</H2>
<UL>
<LI>
<A HREF="#HDR.1">
NAME
</A>
</LI>
<LI>
<A HREF="#HDR.2">
SYNOPSIS
</A>
</LI>
<LI>
<A HREF="#HDR.3">
DESCRIPTION
</A>
</LI>
<LI>
<A HREF="#HDR.4">
OPTIONS
</A>
<UL>
<LI>
<A HREF="#OPT.4.1">
-?
</A>
</LI>
<LI>
<A HREF="#OPT.4.2">
-abserr
</A>
</LI>
<LI>
<A HREF="#OPT.4.3">
-author
</A>
</LI>
<LI>
<A HREF="#OPT.4.4">
-copyright
</A>
</LI>
<LI>
<A HREF="#OPT.4.5">
-fields
</A>
</LI>
<LI>
<A HREF="#OPT.4.6">
-help
</A>
</LI>
<LI>
<A HREF="#OPT.4.7">
-logfile
</A>
</LI>
<LI>
<A HREF="#OPT.4.8">
-minwidth
</A>
</LI>
<LI>
<A HREF="#OPT.4.9">
-outfile
</A>
</LI>
<LI>
<A HREF="#OPT.4.10">
-precision
</A>
</LI>
<LI>
<A HREF="#OPT.4.11">
-quick
</A>
</LI>
<LI>
<A HREF="#OPT.4.12">
-quiet
</A>
</LI>
<LI>
<A HREF="#OPT.4.13">
-relerr
</A>
</LI>
<LI>
<A HREF="#OPT.4.14">
-separators
</A>
</LI>
<LI>
<A HREF="#OPT.4.15">
-silent
</A>
</LI>
<LI>
<A HREF="#OPT.4.16">
-version
</A>
</LI>
<LI>
<A HREF="#OPT.4.17">
-www
</A>
</LI>
</UL>
</LI>
<LI>
<A HREF="#HDR.5">
CAVEATS
</A>
</LI>
<LI>
<A HREF="#HDR.6">
WISH LIST
</A>
</LI>
<LI>
<A HREF="#HDR.7">
FILES
</A>
</LI>
<LI>
<A HREF="#HDR.8">
SEE ALSO
</A>
</LI>
<LI>
<A HREF="#HDR.9">
AUTHOR
</A>
</LI>
<LI>
<A HREF="#HDR.10">
AVAILABILITY
</A>
</LI>
<LI>
<A HREF="#HDR.11">
COPYRIGHT
</A>
</LI>
</UL>
<HR>
<H1>
<A NAME="HDR.1">
NAME
</A>
</H1>
ndiff - compare putatively similar files, ignoring small numeric differences
<!-- ===================================================================== -->
<HR>
<H1>
<A NAME="HDR.2">
SYNOPSIS
</A>
</H1>
<STRONG>ndiff</STRONG>
[
<STRONG>-?</STRONG>
]
[
<STRONG>-abserr</STRONG><EM> abserr</EM>
]
[
<STRONG>-author</STRONG>
]
[
<STRONG>-copyright</STRONG>
]
<!-- .if n .ti +\w'\fBndiff\fP\ 'u -->
[
<STRONG>-fields</STRONG><EM> n1a-n1b,n2,n3a-n3b,...</EM>
]
[
<STRONG>-help</STRONG>
]
<!-- .if n .ti +\w'\fBndiff\fP\ 'u -->
<!-- .if t .ti +\w'\fBndiff\fP\ 'u -->
[
<STRONG>-logfile</STRONG><EM> filename</EM>
]
[
<STRONG>-minwidth</STRONG><EM> nnn</EM>
]
<!-- .if n .ti +\w'\fBndiff\fP\ 'u -->
[
<STRONG>-outfile</STRONG><EM> filename</EM>
]
[
<STRONG>-precision</STRONG><EM> number-of-bits</EM>
]
<!-- .if n .ti +\w'\fBndiff\fP\ 'u -->
<!-- .if t .ti +\w'\fBndiff\fP\ 'u -->
[
<STRONG>-quick</STRONG>
]
[
<STRONG>-quiet</STRONG>
]
[
<STRONG>-relerr</STRONG><EM> relerr</EM>
]
<!-- .if n .ti +\w'\fBndiff\fP\ 'u -->
[
<STRONG>-separators</STRONG><EM> regexp</EM>
]
[
<STRONG>-silent</STRONG>
]
[
<STRONG>-version</STRONG>
]
<!-- .if n .ti +\w'\fBndiff\fP\ 'u -->
<!-- .if t .ti +\w'\fBndiff\fP\ 'u -->
[
<STRONG>-www</STRONG>
]
<EM>infile1</EM>
<EM>infile2</EM>
<!-- ===================================================================== -->
<HR>
<H1>
<A NAME="HDR.3">
DESCRIPTION
</A>
</H1>
When a numerical program is run in multiple
environments (operating systems, architectures, or
compilers), assessing its consistency can be a
difficult task for a human, since small
differences in numerical output values are
expected.
<P>
Application of a file differencing utility, such
as POSIX/UNIX
<STRONG>diff</STRONG>(1),
will generally produce voluminous output, often
longer than the original files, and is thus not
useful.  The lesser-known UNIX
<STRONG>spiff</STRONG>(1)
utility, while capable of handling numeric fields,
suffers from excessively-long running times, and
often terminates prematurely.
<P>
<STRONG>ndiff</STRONG>
provides a solution to this problem.  It compares
two files that are expected to be identical, or at
least, numerically similar.  It assumes that lines
consist of whitespace-separated fields of numeric
and non-numeric data.
<P>
A hyphen (minus sign) can be used in place of
either input filename to represent
<EM>stdin</EM>,
allowing one input stream to come from a UNIX
pipe.  This is a common, but by no means
universal, idiom in UNIX software as a workaround
for the regrettable lack of standard names for the
default
<EM>stdin</EM>
and
<EM>stdout</EM>
streams.  On some, but not all, UNIX systems,
<EM>stdin</EM>
can be named explicitly as
<EM>/dev/stdin</EM>
or
<EM>/dev/fd/0</EM>.
<P>
The default field separator characters can be
modified with the
<STRONG>-separators</STRONG><EM> regexp</EM>
command-line option, so that
<STRONG>ndiff</STRONG>
can also handle files with, e.g., parenthesized
complex numbers, and comma-separated numbers from
Fortran list-directed output.  However, because
line breaking and use of repeats counts in Fortran
list-directed is implementation dependent, such
files are not really suitable for
cross-implementation file comparisons, unless the
lists are kept short enough to fit on a single
line.
<P>
<STRONG>ndiff</STRONG>
expects the files to contain the same number of
lines; otherwise, a diagnostic will be issued.
Unlike
<STRONG>diff</STRONG>(1),
this program cannot handle inserted or deleted
lines.
<P>
Also unlike
<STRONG>diff</STRONG>(1)
(unless
<STRONG>diff</STRONG>'s
<STRONG>-b</STRONG>
and
<STRONG>-w</STRONG>
options are used), whitespace is
<EM>not</EM>
significant for
<STRONG>ndiff</STRONG>,
except that it normally separates fields.
<P>
Lines that differ in at least one field (as
determined by the absolute and/or relative
tolerances, for numeric values, or string
comparisons otherwise) are reported on
<EM>stdout</EM>
in a
<STRONG>diff</STRONG>(1)
-style listing of the form
<BLOCKQUOTE>
<EM>nnn</EM>c<EM>nnn</EM>
<P>
&lt; line from <EM>infile1</EM>
<P>
<PRE>
<EM>---</EM> field<EM> n</EM>  absolute error
<EM> x.xxe-xx</EM>  relative error<EM> x.xxe-xx
</EM> [<EM>nn</EM>*(machine epsilon)]
</PRE>
<P>
&gt; line from <EM>infile2</EM>
<!-- .fi -->
</BLOCKQUOTE>
The first of these lines shows the line number
twice, separated by the letter
<EM>c</EM>
(for change).  The second and fourth lines begin
with a two-character identifying prefix.  The
third, separator, line shows the field number at
which the difference was found; fields beyond that
one may also differ, but have not been checked.
If the differing field is numeric, then the errors
found are also shown on that line.  If the
relative error is not too big, its value is also
shown as a multiple of the machine epsilon.
<P>
<STRONG>ndiff</STRONG>
recognizes the following patterns as valid
numbers.  In the patterns,
<EM>#</EM>
is a string of one or more decimal digits,
optionally separated by a nonsignificant
underscore (as in the Ada programming language),
<EM>s</EM>
is an optional
<EM>+</EM>
or
<EM>-</EM>
sign, and
<EM>X</EM>
is an exponent letter, one of
<EM>D</EM>,
<EM>d,</EM>
<EM>E</EM>,
<EM>e,</EM>
<EM>Q</EM>,
or
<EM>q</EM>:
<BLOCKQUOTE>
<PRE>
<TT>s#      s#s#    s#Xs#          s#.     s#.s#   s#.Xs#</TT>

<TT>s#.#    s#.#s#  s#.#Xs#        s.#     s.#s#   s.#Xs#</TT>
</PRE>
</BLOCKQUOTE>
<P>
The rigorous programming rule that determines
whether a string is interpreted as a
floating-point value is that it must match this
very complicated regular expression (the line
breaks are for readability only):
<BLOCKQUOTE>
<PRE>
<TT>&#34;^[-+]?([0-9](_?[0-9])*([.]?([0-9](_?[0-9])*)*)?|
    [.][0-9](_?[0-9])*+)
    ([DdEeQq]?[-+]?[0-9](_?[0-9])*)?$&#34;</TT>
</PRE>
</BLOCKQUOTE>
<P>
Thus,
<EM>123</EM>,
<EM>-1q-27</EM>,
<EM>.987d77</EM>,
<EM>3.14159_26535_89793_23846</EM>,
and
<EM>.456-123</EM>
are all valid numbers.
<P>
Notably absent from this list are Fortran-style
numbers with embedded blanks (blanks are not
significant in Fortran, except in string
constants).  If your files contain such data, then
you must convert them to standard form first, if
you want
<STRONG>ndiff</STRONG>
to perform reliably.  In the interests of
interlanguage data exchange, most modern Fortran
implementations do not output floating-point
numbers with embedded spaces, so you should rarely
need such file conversions.
<P>
From version 2.00,
<STRONG>ndiff</STRONG>
also recognizes patterns for optionally-signed NaN (Not-a-Number):
<BLOCKQUOTE>
<PRE>
<TT>NaN     SNaN    QNaN    NaNS    NaNQ    ?.0e+0  ??.0</TT>

<TT>+NaN    +SNaN   +QNaN   +NaNS   +NaNQ   +?.0e+0 +??.0</TT>

<TT>-NaN    -SNaN   -QNaN   -NaNS   -NaNQ   -?.0e+0 -??.0</TT>
</PRE>
</BLOCKQUOTE>
and optionally-signed Infinity:
<BLOCKQUOTE>
<PRE>
<TT>Inf     Infinity        +.+0e+0 +.+0</TT>

<TT>+Inf    +Infinity       +.+0e+0 +.+0</TT>

<TT>-Inf    -Infinity       -.-0e+0 -.-0</TT>
</PRE>
</BLOCKQUOTE>
<P>
Lettercase is
<EM>not</EM>
significant in these values.
<P>
The rigorous programming rule for whether a field
is a NaN or an Infinity is determined by these
complex regular expressions (again, the line
breaks are for readability only):
<BLOCKQUOTE>
<PRE>
<TT>&#34;^[-+]?([QqSs]?[Nn][Aa][Nn][QqSs]?|
    [?]+[.][?0]+[DdEeQq][-+]?[0-9]+|
    [?]+[.][?0]+)$&#34;</TT>
<TT>&#34;^(-[Ii][Nn][Ff]|
    -[Ii][Nn][Ff][Ii][Nn][Ii][Tt][Yy]|
    -+[.][-]0+[DdEeQq][-+]?[0-9]+|
    -+[.][-]0+)$&#34;</TT>
<TT>&#34;^([+]?[Ii][Nn][Ff]|
    [+]?[Ii][Nn][Ff][Ii][Nn][Ii][Tt][Yy]|
    [+]+[.][-]0+[DdEeQq][-+]?[0-9]+|
    [+]+[.][-]0+)$&#34;</TT>
</PRE>
</BLOCKQUOTE>
<P>
Even though in numerical computations, a NaN is
never equal to anything, even itself, for
<STRONG>ndiff</STRONG>,
fields that match a NaN pattern
<EM>are</EM>
considered equal.
<P>
Fields that match Infinity patterns are considered
equal if they have the same sign.
<P>
<STRONG>ndiff</STRONG>
terminates with a success exit code (on UNIX, 0)
if no differences (subject to the absolute and/or
relative tolerances) are found.  Otherwise, it
terminates with a failure exit code (on UNIX, 1).
<!-- ===================================================================== -->
<HR>
<H1>
<A NAME="HDR.4">
OPTIONS
</A>
</H1>
Command-line options may be abbreviated to a
unique leading prefix, and letter case is ignored.
<P>
To avoid confusion with options, if a filename
begins with a hyphen, it must be disguised by a
leading absolute or relative directory path, e.g.,
<EM>/tmp/-foo.dat</EM>
or
<EM>./-foo.dat</EM>.
<P>
GNU- and POSIX-style options of the form
<STRONG>--name</STRONG>
are also recognized: they begin with two option
prefix characters.
<!-- _______________________________________________ -->
<DL>
<DT>
<A NAME="OPT.4.1">
<STRONG>-?</STRONG>
</A>
</DT>
<DD>
Display brief usage information on
<EM>stderr</EM>
and exit with a success status code before
processing any input files.
<P>
This is a synonym for
<STRONG>-help</STRONG>.
<!-- _______________________________________________ -->
</DD>
<DT>
<A NAME="OPT.4.2">
<STRONG>-abserr</STRONG><EM> abserr</EM>
</A>
</DT>
<DD>
Specify a maximum absolute difference permitted
before fields are regarded as different.  Unless
the fields are all of the same approximate
magnitude, you probably do not want to use this
option.
<P>
A zero value for this option suppresses reports of
absolute error differences.
<P>
This option may be abbreviated
<STRONG>-a</STRONG>.
<P>
For readability, this option may also be called
<STRONG>-absolute-error</STRONG>,
or any unique prefix thereof.
<!-- _______________________________________________ -->
</DD>
<DT>
<A NAME="OPT.4.3">
<STRONG>-author</STRONG>
</A>
</DT>
<DD>
Show author information on
<EM>stderr</EM>
and exit with a success status code before
processing any input files.
<!-- _______________________________________________ -->
</DD>
<DT>
<A NAME="OPT.4.4">
<STRONG>-copyright</STRONG>
</A>
</DT>
<DD>
Show copyright information on
<EM>stderr</EM>
and exit with a success status code before
processing any input files.
<!-- _______________________________________________ -->
</DD>
<DT>
<A NAME="OPT.4.5">
<STRONG>-fields</STRONG><EM> n1a-n1b,n2,n3a-n3b,...</EM>
</A>
</DT>
<DD>
By default, all fields are compared, but this
option can specify a comma-separated list of
numbers, and/or ranges, selecting the fields that
are to be compared.
<P>
Fields are numbered starting from 1.
<P>
A field range is a pair of numbers, separated by
one or more hyphens (minus signs): 4-7 and 4--7
are equivalent to 4,5,6,7.
<P>
To prevent long range-expansion loops, field
ranges are restricted to a non-negative span of no
more than 100: 8-8 and 1-100 are acceptable, but
3-, -5, 8-7 and 1-101 all generate an error.
<!-- _______________________________________________ -->
</DD>
<DT>
<A NAME="OPT.4.6">
<STRONG>-help</STRONG>
</A>
</DT>
<DD>
Display brief usage information on
<EM>stderr</EM>
and exit with a success status code before
processing any input files.
<P>
This is a synonym for
<STRONG>-?</STRONG>.
<!-- _______________________________________________ -->
</DD>
<DT>
<A NAME="OPT.4.7">
<STRONG>-logfile</STRONG><EM> filename</EM>
</A>
</DT>
<DD>
Redirect warning and error messages from
<EM>stderr</EM>
to the indicated filename.  This option is
provided for user convenience on poorly-designed
operating systems (e.g., IBM PC DOS) that fail to
provide for redirection of
<EM>stderr</EM>
to a specified file.
<P>
This option can also be used for discarding
messages, with, e.g., on UNIX systems,
<STRONG>-logfile</STRONG><EM> /dev/null.</EM>
<!-- _______________________________________________ -->
</DD>
<DT>
<A NAME="OPT.4.8">
<STRONG>-minwidth</STRONG><EM> nnn</EM>
</A>
</DT>
<DD>
Specify a minimum field width required for numeric
fields containing a decimal point and/or exponent.
If both such fields being compared are shorter
than this, they are treated as equal.
<P>
This option is useful when fields contain relative
error values given to only a few digits; such
values might differ widely between two files, but
those differences can be made irrelevant by invoking
this option.
<P>
For readability, this option may also be called
<STRONG>-minimum-width</STRONG>,
or any unique prefix thereof.
<!-- _______________________________________________ -->
</DD>
<DT>
<A NAME="OPT.4.9">
<STRONG>-outfile</STRONG><EM> filename</EM>
</A>
</DT>
<DD>
Redirect output from
<EM>stdout</EM>
to the indicated filename.  This option is
provided for user convenience on operating systems
that fail to provide for redirection of
<EM>stdout</EM>
to a specified file.
<!-- _______________________________________________ -->
</DD>
<DT>
<A NAME="OPT.4.10">
<STRONG>-precision</STRONG><EM> number-of-bits</EM>
</A>
</DT>
<DD>
Specify the number of bits in the significands
used in multiple-precision arithmetic.  The
corresponding number of decimal digits is
<EM>floor( number-of-bits / lg 10) = floor(number-of-bits / 3.32)</EM>.
<P>
You can use the
<STRONG>-version</STRONG>
option to see the value of the corresponding
machine epsilon (the smallest number, which, when
added to one, still differs from one).
<P>
The multiple-precision arithmetic library
used by
<STRONG>ndiff</STRONG>
increases its working precision in multiples of a
certain implementation-dependent size, usually 64
bits, so the reported machine epsilon may not
decrease until
<EM>number-of-bits</EM>
has been increased beyond the next multiple of
that size.
<P>
If
<STRONG>ndiff</STRONG>
was compiled without support for
multiple-precision arithmetic, use of this option
will elicit a warning.
<!-- _______________________________________________ -->
</DD>
<DT>
<A NAME="OPT.4.11">
<STRONG>-quick</STRONG>
</A>
</DT>
<DD>
Suppress reading of the initialization files,
<EM>$LIBDIR/.ndiffrc</EM>,
<EM>$HOME/.ndiffrc</EM>,
and
<EM>./.ndiffrc</EM>.
<EM>LIBDIR</EM>
represents the name of the
<STRONG>ndiff</STRONG>
installation directory; it is not a user-definable
environment variable.
<P>
Normally, the contents of those files, if they
exist, are implicitly inserted at the beginning of
the command line, with comments removed and
newlines replaced by spaces.  Thus, those files
can contain any
<STRONG>ndiff</STRONG>
options defined in this documentation, either one
option, or option/value pair, per line, or with
multiple options per line.  Empty lines, and lines
that begin with optional whitespace followed by a
sharp (#) are comment lines that are discarded.
<P>
If the initialization file contains backslashes,
they must be doubled because the text is
interpreted by the shell before
<STRONG>ndiff</STRONG>
sees it.
<!-- _______________________________________________ -->
</DD>
<DT>
<A NAME="OPT.4.12">
<STRONG>-quiet</STRONG>
</A>
</DT>
<DD>
The maximum absolute and relative errors, and
their locations, in
<EM>matching</EM>
lines are tracked, and at termination, a two-line
report with their values is normally printed on
<EM>stdout</EM>.
This option suppresses that report.
<P>
This option may be abbreviated
<STRONG>-qui</STRONG>,
<STRONG>-qu</STRONG>,
or
<STRONG>-q</STRONG>.
<!-- _______________________________________________ -->
</DD>
<DT>
<A NAME="OPT.4.13">
<STRONG>-relerr</STRONG><EM> relerr</EM>
</A>
</DT>
<DD>
Specify a maximum relative difference permitted
before fields are regarded as different.  The
relative error of two fields
<EM>x</EM>
and
<EM>y</EM>
is defined to be:
<P>
<BLOCKQUOTE>
<DL>
<DT>
0
</DT>
<DD>
if
<EM>x</EM>
is identical to
<EM>y</EM>,
or else
</DD>
<DT>
abs(<EM>x-y</EM>)/min(abs(<EM>x</EM>),abs(<EM>y</EM>))
</DT>
<DD>
if
<EM>x</EM>
and
<EM>y</EM>
are nonzero, or else
</DD>
<DT>
<EM>1</EM>
</DT>
<DD>
if
<EM>x</EM>
is zero, and
<EM>y</EM>
is nonzero, or else
</DD>
<DT>
<EM>1</EM>
</DT>
<DD>
if
<EM>y</EM>
is zero, and
<EM>x</EM>
is nonzero, or else
</DD>
<DT>
<EM>0</EM>
</DT>
<DD>
since both
<EM>x</EM>
and
<EM>y</EM>
are zero.
</DD>
</DL>
</BLOCKQUOTE>
<P>
This complex definition of relative error ensures
that the results will be independent of the order
of the two input files on the command line.
<P>
A zero value for this option suppresses reports of
relative error differences.
<P>
For readability, this option may also be called
<STRONG>-relative-error</STRONG>,
or any unique prefix thereof.
<P>
If neither
<STRONG>-abserr</STRONG>
nor
<STRONG>-relerr</STRONG>
is specified, then
<STRONG>-relerr</STRONG><EM> x</EM>
is assumed, where
<EM>x</EM>
is the larger of 1.0e-15 and eight times the
machine epsilon (the smallest number whose sum
with 1.0 still differs from 1.0).
<P>
If the specified relative error value is greater
than or equal to 1.0, it is multiplied by the
machine epsilon.  Thus, you can specify
<STRONG>-relerr</STRONG><EM> 16</EM>
to allow relative errors of up to 4 bits (since
2^4 == 16).
<P>
<STRONG>ndiff</STRONG>
will issue a warning if you specify a relative
error value smaller than the machine epsilon, but
will accept and use your specified value.
<!-- _______________________________________________ -->
</DD>
<DT>
<A NAME="OPT.4.14">
<STRONG>-separators</STRONG><EM> regexp</EM>
</A>
</DT>
<DD>
The argument is an
<STRONG>awk</STRONG>(1)
regular expression that specifies an alternate set
of characters separating fields in input lines.
<P>
By default, this is a single blank, which has a
special meaning in
<STRONG>awk</STRONG>(1):
leading and trailing whitespace (blanks and tabs)
is first stripped, then runs of consecutive
whitespace are collapsed to a single space, and
finally, the line is split into fields at the
spaces.
<P>
If the input files contain parenthesized complex
numbers, or comma-separated numbers from Fortran
list-directed output, then you should specify
<STRONG>-separators</STRONG><EM> '[&#160;\t,()]'</EM>
so that blanks, tabs, commas, and parentheses
separate input fields.
<!-- _______________________________________________ -->
</DD>
<DT>
<A NAME="OPT.4.15">
<STRONG>-silent</STRONG>
</A>
</DT>
<DD>
Suppress the output of the difference lines on
<EM>stdout</EM>.
<P>
Using both
<STRONG>-quiet</STRONG>
and
<STRONG>-silent</STRONG>
guarantees that nothing is printed on
<EM>stdout</EM>,
but the
<STRONG>ndiff</STRONG>
exit code can still be used for testing for a
successful comparison.
<P>
This option may be abbreviated
<STRONG>-s</STRONG>.
<!-- _______________________________________________ -->
</DD>
<DT>
<A NAME="OPT.4.16">
<STRONG>-version</STRONG>
</A>
</DT>
<DD>
Show version and precision information on
<EM>stderr</EM>
and exit with a success status code before
processing any input files.
<P>
The machine epsilon reported in this output may
depend on a preceding
<STRONG>-precision</STRONG><EM> number-of-bits</EM>
specification.
<!-- _______________________________________________ -->
</DD>
<DT>
<A NAME="OPT.4.17">
<STRONG>-www</STRONG>
</A>
</DT>
<DD>
Show the World-Wide Web master archive location
for this program on
<EM>stderr</EM>
and exit with a success status code before
processing any input files.
<!-- ===================================================================== -->
</DD>
</DL>
<HR>
<H1>
<A NAME="HDR.5">
CAVEATS
</A>
</H1>
This implementation of
<STRONG>ndiff</STRONG>
can be built with support for double-precision,
quadruple-precision, or multiple-precision
arithmetic.  The
<STRONG>-version</STRONG>
option reports the particular choice at your site.
Thus,
<STRONG>ndiff</STRONG>
will not correctly handle absolute and relative
error tolerances that are smaller than those
corresponding to the machine epsilon in the
arithmetic for which it was built, and for that
reason, installers are encouraged to build the
multiple-precision version, so that users can
select any required precision.
<!-- ===================================================================== -->
<HR>
<H1>
<A NAME="HDR.6">
WISH LIST
</A>
</H1>
It would be nice to have
<STRONG>ndiff</STRONG>'s
abilities incorporated into the GNU
<STRONG>diff</STRONG>(1)
program; that way, numeric fields could be
successfully compared even in files with inserted
or deleted lines, and much of the entire computing
world could benefit.
<P>
Perhaps some community-minded and clever reader of
this documentation will take up this challenge,
and present the Free Software Foundation with an
improved
<STRONG>diff</STRONG>(1)
implementation that offers support for tolerant
differencing of numeric files, using
<STRONG>ndiff</STRONG>
as a design model, sample implementation, and testbed!
<P>
Ideally, such an improved
<STRONG>diff</STRONG>(1)
implementation should handle numbers of
<EM>arbitrary</EM>
precision, allowing comparisons of numeric output
from systems that support high-precision
arithmetic, such as Lisp and symbolic algebra
languages.  In addition, it might choose to do its
arithmetic in decimal floating-point, so as to
avoid inaccuracies introduced by vendor-dependent
libraries for decimal-to-native-base number
conversion.
<P>
The
<STRONG>awk</STRONG>(1)
prototype version of
<STRONG>ndiff</STRONG>
supports only double-precision arithmetic; the C
version is more flexible.
<!-- ===================================================================== -->
<HR>
<H1>
<A NAME="HDR.7">
FILES
</A>
</H1>
In the following,
<EM>LIBDIR</EM>
represents the name of the
<STRONG>ndiff</STRONG>
installation directory; it is not a user-definable
environment variable.  If
<STRONG>ndiff</STRONG>
has been installed properly at your site,
the value of
<EM>LIBDIR</EM>
is
<BLOCKQUOTE>
<PRE>
<TT>/usr/local/share/lib/ndiff/ndiff-2.00</TT>
</PRE>
</BLOCKQUOTE>
<!-- _______________________________________________ -->
<DL>
<DT>
<TT>$LIBDIR/.ndiffrc</TT>
</DT>
<DD>
System-specific initialization file containing
customized
<STRONG>ndiff</STRONG>
command-line options.
<!-- _______________________________________________ -->
</DD>
<DT>
<TT>$HOME/.ndiffrc</TT>
</DT>
<DD>
User-specific initialization file containing
customized
<STRONG>ndiff</STRONG>
command-line options.
<!-- _______________________________________________ -->
</DD>
<DT>
<TT>./.ndiffrc</TT>
</DT>
<DD>
Current-directory-specific initialization file
containing customized
<STRONG>ndiff</STRONG>
command-line options.
<!-- _______________________________________________ -->
</DD>
<DT>
<TT>$LIBDIR/ndiff.awk</TT>
</DT>
<DD>
<STRONG>awk</STRONG>(1)
program
invoked by
<STRONG>ndiff</STRONG>.
This file will not be installed if the C version
of
<STRONG>ndiff</STRONG>
was built.
<!-- _______________________________________________ -->
<!-- ===================================================================== -->
</DD>
</DL>
<HR>
<H1>
<A NAME="HDR.8">
SEE ALSO
</A>
</H1>
<STRONG>awk</STRONG>(1),
<STRONG>bawk</STRONG>(1),
<STRONG>cmp</STRONG>(1),
<STRONG>diff</STRONG>(1),
<STRONG>gawk</STRONG>(1),
<STRONG>mawk</STRONG>(1),
<STRONG>nawk</STRONG>(1),
<STRONG>spiff</STRONG>(1).
<!-- ===================================================================== -->
<HR>
<H1>
<A NAME="HDR.9">
AUTHOR
</A>
</H1>
<PRE>
Nelson H. F. Beebe
Center for Scientific Computing
University of Utah
Department of Mathematics, 322 INSCC
155 S 1400 E RM 233
Salt Lake City, UT 84112-0090
USA
Email: <TT><A HREF="mailto:beebe@math.utah.edu">beebe@math.utah.edu</A></TT>, <TT><A HREF="mailto:beebe@acm.org">beebe@acm.org</A></TT>,
<!-- .if n .ti +\w'Email:\ 'u -->
<!-- .if t .ti +\w'Email:\ 'u -->
<TT><A HREF="mailto:beebe@computer.org">beebe@computer.org</A></TT>, <TT><A HREF="mailto:beebe@ieee.org">beebe@ieee.org</A></TT> (Internet)
WWW URL: <TT><A HREF="http://www.math.utah.edu/~beebe">http://www.math.utah.edu/~beebe</A></TT>
Telephone: +1 801 581 5254
FAX: +1 801 585 1640, +1 801 581 4148
</PRE>
<!-- ===================================================================== -->
<HR>
<H1>
<A NAME="HDR.10">
AVAILABILITY
</A>
</H1>
<STRONG>ndiff</STRONG>
is freely available; its master distribution can
be found at
<P>
<BLOCKQUOTE>
<PRE>
<TT><A HREF="ftp://ftp.math.utah.edu/pub/misc/">ftp://ftp.math.utah.edu/pub/misc/</A></TT>
<TT><A HREF="http://www.math.utah.edu/pub/misc/">http://www.math.utah.edu/pub/misc/</A></TT>
</PRE>
</BLOCKQUOTE>
<P>
in the file
<EM>ndiff-x.yy.tar.gz</EM>
where
<EM>x.yy</EM>
is the current version.  Other distribution
formats are usually available at the same
location.
<P>
That site is mirrored to several other Internet
archives, so you may also be able to find it
elsewhere on the Internet; try searching for the
string
<EM>ndiff</EM>
at one or more of the popular Web search sites,
such as
<P>
<BLOCKQUOTE>
<PRE>
<TT><A HREF="http://altavista.digital.com/">http://altavista.digital.com/</A>
<A HREF="http://search.microsoft.com/us/default.asp">http://search.microsoft.com/us/default.asp</A>
<A HREF="http://www.dejanews.com/">http://www.dejanews.com/</A>
<A HREF="http://www.dogpile.com/index.html">http://www.dogpile.com/index.html</A>
<A HREF="http://www.euroseek.net/page?ifl">http://www.euroseek.net/page?ifl</A>=uk
<A HREF="http://www.excite.com/">http://www.excite.com/</A>
<A HREF="http://www.go2net.com/search.html">http://www.go2net.com/search.html</A>
<A HREF="http://www.google.com/">http://www.google.com/</A>
<A HREF="http://www.hotbot.com/">http://www.hotbot.com/</A>
<A HREF="http://www.infoseek.com/">http://www.infoseek.com/</A>
<A HREF="http://www.inktomi.com/">http://www.inktomi.com/</A>
<A HREF="http://www.lycos.com/">http://www.lycos.com/</A>
<A HREF="http://www.northernlight.com/">http://www.northernlight.com/</A>
<A HREF="http://www.snap.com/">http://www.snap.com/</A>
<A HREF="http://www.stpt.com/">http://www.stpt.com/</A>
<A HREF="http://www.yahoo.com/">http://www.yahoo.com/</A></TT>
</PRE>
</BLOCKQUOTE>
<!-- ===================================================================== -->
<HR>
<H1>
<A NAME="HDR.11">
COPYRIGHT
</A>
</H1>
<PRE>
<TT>########################################################################
########################################################################
########################################################################
###                                                                  ###
### ndiff: compare putatively similar files, ignoring small numeric  ###
###        differences                                               ###
###                                                                  ###
###              Copyright (C) 2000 Nelson H. F. Beebe               ###
###                                                                  ###
### This program is covered by the GNU General Public License (GPL), ###
### version 2 or later, available as the file COPYING in the program ###
### source distribution, and on the Internet at                      ###
###                                                                  ###
###               <A HREF="ftp://ftp.gnu.org/gnu/GPL">ftp://ftp.gnu.org/gnu/GPL</A>                          ###
###                                                                  ###
###               <A HREF="http://www.gnu.org/copyleft/gpl.html">http://www.gnu.org/copyleft/gpl.html</A>               ###
###                                                                  ###
### This program is free software; you can redistribute it and/or    ###
### modify it under the terms of the GNU General Public License as   ###
### published by the Free Software Foundation; either version 2 of   ###
### the License, or (at your option) any later version.              ###
###                                                                  ###
### This program is distributed in the hope that it will be useful,  ###
### but WITHOUT ANY WARRANTY; without even the implied warranty of   ###
### MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the    ###
### GNU General Public License for more details.                     ###
###                                                                  ###
### You should have received a copy of the GNU General Public        ###
### License along with this program; if not, write to the Free       ###
### Software Foundation, Inc., 59 Temple Place, Suite 330, Boston,   ###
### MA 02111-1307 USA.                                               ###
########################################################################
########################################################################
########################################################################</TT>
</PRE>
<!-- ==============================[The End]============================== -->
<!--  This is for GNU Emacs file_specific customization: -->
<!--  Local Variables: -->
<!--  fill_column: 50 -->
<!--  End: -->
</BODY>
</HTML>
